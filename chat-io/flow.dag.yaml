inputs:
  chat_history:
    type: list
    default: []
    is_chat_history: true
    is_chat_input: false
  prompt:
    type: string
    default: ""
    is_chat_input: true
outputs:
  output:
    type: string
    is_chat_output: true
    reference: ${standard_response_no_search.output}
nodes:
- name: standard_response_no_search
  type: llm
  source:
    type: code
    path: standard_response_no_search.jinja2
  inputs:
    deployment_name: chattering-completion
    max_tokens: 256
    temperature: 1
    text_input: ${inputs.prompt}
    reference_docs: ${execute_serp_search.output}
  connection: oai-connection-2
  api: completion
- name: search_determiner
  type: llm
  source:
    type: code
    path: router_completions.jinja2
  inputs:
    deployment_name: chattering-completion
    max_tokens: 256
    temperature: 1
    text: ${inputs.prompt}
  connection: oai-connection-2
  api: completion
- name: parser_options
  type: llm
  source:
    type: code
    path: parser_hotels.jinja2
  inputs:
    deployment_name: chattering-completion
    max_tokens: 16
    text: ${inputs.prompt}
  connection: oai-connection-2
  api: completion
  activate:
    when: ${search_determiner.output}
    is: Searchable
- name: execute_serp_search
  type: python
  source:
    type: code
    path: execute_serp_search.py
  inputs: {}
